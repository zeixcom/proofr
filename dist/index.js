!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("moment"));else if("function"==typeof define&&define.amd)define(["moment"],t);else{var r=t("object"==typeof exports?require("moment"):e.moment);for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(this,function(e){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROOFERS=t.TYPE_MAP=t.INSTANCE_DEFAULTS=t.GLOBAL_DEFAULTS=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(3),i=function(e){return e&&e.__esModule?e:{default:e}}(o),s=(t.GLOBAL_DEFAULTS={},t.INSTANCE_DEFAULTS={proofOnFocus:!0,proofOnSubmit:!0,errorClass:"proofr-error",groupClass:"proofr-group",listClass:"proofr-list",hasErrorMessages:!0},t.TYPE_MAP={email:"email",number:"number",url:"url",date:"date"},{required:function(e){return""!==e&&null!==e&&void 0!==e},pattern:function(e,t){if(void 0===t)return proofr.error("There is no node defined, therefore we cant extract the pattern");var r=t.getAttribute("pattern");return new RegExp(r).test(e)},email:function(e){return/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/g.test(e)},phone:function(e){return/^[().+\d -]{1,15}$/g.test(e)},phoneCHLI:function(e){return/^(0[1-9]\d|(\+|00)(41|423))\d{7,9}/g.test(e)},number:function(e){return!isNaN(parseFloat(e))},range:function(e,t,r){var n=parseFloat(e);return void 0!==r?n>=r.min&&n<=r.max:proofr.error("There is no range provided for min and max")},min:function(e,t,r){var n=parseFloat(e);return void 0!==r?n>=r.min:proofr.error("There is no range provided for min")},max:function(e,t,r){var n=parseFloat(e);return void 0!==r?n<=r.max:proofr.error("There is no range provided for max")},date:function(e){return(0,i.default)(e,proofr.dateFormats).isValid()},length:function(e,t,r){return"undefined"!==(void 0===r?"undefined":n(r))?e.length>=r.min&&e.length<=r.max:proofr.error("There is no range provided for length proofr")},minlength:function(e,t,r){return"undefined"!==(void 0===r?"undefined":n(r))?e.length<=r.max:proofr.error("There is no range provided for minlength proofr")},maxlength:function(e,t,r){return"undefined"!==(void 0===r?"undefined":n(r))?e.length>=r.min:proofr.error("There is no range provided for maxlength proofr")},url:function(e){return/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&\/\/=]*)/.test(e)},checkrange:function(e,t,r){if(t instanceof Array==!1)return(void 0).error("The proofer checkrange only works with radiobuttons or checkboxes");var n=t.filter(function(e){return e.checked});return console.log("checked",n,r),console.log(n.length>=r.min&&n.length<=r.max),n.length>=r.min&&n.length<=r.max},checkmin:function(e,t,r){return t instanceof Array==!1?(void 0).error("The proofer checkmin only works with radiobuttons or checkboxes"):t.filter(function(e){return e.checked}).length>=r.min},checkmax:function(e,t,r){return t instanceof Array==!1?(void 0).error("The proofer checkmax only works with radiobuttons or checkboxes"):t.filter(function(e){return e.checked}).length<=r.max}});t.DEFAULT_PROOFERS=s},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(2),a=function(e){return e&&e.__esModule?e:{default:e}}(s),u=r(0);window.proofr=new a.default;var l=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e),this.fields={},this.customErrors=[],this.errors=[],this.options=Object.assign({},u.INSTANCE_DEFAULTS,r),this.form=this.parseForm(t),this.form&&(this.fields=this.parseFields(),this.events=[],this.form.setAttribute("novalidate","novalidate"),this.addEventListener())}return i(e,[{key:"addEventListener",value:function(){this.options.proofOnFocus&&this.addFocusOutListeners(),this.options.proofOnSubmit&&this.addSubmitListener()}},{key:"addSubmitListener",value:function(){var e=this;this.form.addEventListener("submit",function(t){e.proof()||t.preventDefault()})}},{key:"addFocusOutListeners",value:function(){var e=this;Object.keys(this.fields).forEach(function(t){var r=e.fields[t];if(r.node instanceof Array)r.node.forEach(function(n){var o=function(){e.proofField(r,t)};n.addEventListener("focusout",o),e.events.push({node:n,handler:o})});else{var n=function(){e.proofField(r,t)};r.node.addEventListener("focusout",n),e.events.push({node:r.node,handler:n})}})}},{key:"proof",value:function(){var e=this,t=Object.keys(this.fields);this.errors=[],t.forEach(function(t){e.proofField(e.fields[t])});var r=new CustomEvent("proofed",{hasErrors:this.hasErrors(),errors:this.errors()});return this.form.dispatchEvent(r),!this.hasErrors()}},{key:"hasErrors",value:function(){return this.errors.length>0}},{key:"hasCustomErrors",value:function(){return this.customErrors.length>0}},{key:"proofField",value:function(e,t){var r={},n=e.node instanceof Array?"":e.node.value,i=[];this.removeErrorClass(e.group),this.removeErrorMessages(e.group),e.proofers.forEach(function(t){r[t]=proofr.proof(t,n,e.node,e.range),""!==n&&"undefined"!==(void 0===n?"undefined":o(n))&&null!==n||"required"===t||/^check/g.test(t)||(r[t]=!0)});var s=Object.keys(r),a=s.filter(function(e){return!r[e]}),u=0===a.length;u?this.errors=this.errors.filter(function(e){return e!==t}):(a.forEach(function(e){var t=proofr.getLangMessage(e,"field");t&&i.push(t)}),this.addErrorClass(e.group),this.options.hasErrorMessages&&this.addErrorMessages(e.group,i),this.errors.push(t)),this.dispatchFieldEvent(e.node,u,i)}},{key:"dispatchFieldEvent",value:function(e,t,r){var n=new CustomEvent("proofed",{result:t,errorMessages:r});e instanceof Array?e.forEach(function(e){e.dispatchEvent(n)}):e.dispatchEvent(n)}},{key:"parseForm",value:function(e){return(e instanceof Node||e instanceof HTMLElement)&&"FORM"===e.tagName?e:"string"!=typeof e?proofr.error("Passed element to Proofr instance has not the correct type, you submitted a "+(void 0===e?"undefined":o(e))+" and is a "+e.tagName+" tag"):document.querySelector(e)}},{key:"addErrorClass",value:function(e){e.classList.add(this.options.errorClass)}},{key:"addErrorMessages",value:function(e,t){var r=e.querySelector("."+this.options.listClass);null!==r||(r=document.createElement("UL"),r.classList.add(this.options.listClass),e.appendChild(r)),t.forEach(function(e){var t=document.createElement("LI");t.textContent=e,r.appendChild(t)})}},{key:"removeErrorClass",value:function(e){e.classList.remove(this.options.errorClass)}},{key:"removeErrorMessages",value:function(e){var t=e.querySelector("."+this.options.listClass);null!==t&&e.removeChild(t)}},{key:"parseFields",value:function(){var e=this,t=this.form.querySelectorAll("input, select, textarea"),r={},n=/(checkbox|radio)/g,o=/(submit|reset|button)/g,i=void 0,s=void 0,a=void 0,u=void 0,l=void 0,f=void 0,d=void 0;return t.forEach(function(t){f=t.hasAttribute("name"),i=t.getAttribute("type")||"text",u=o.test(i),l=null!==i.match(n),!u&&f&&(s=t.getAttribute("name"),d=void 0!==r[s],d&&l?r[s].node.push(t):(a={node:l?[t]:t,type:i,proofers:e.getProofersByField(t,i,l),range:t.hasAttribute("data-proof-range")?e.getRangeByField(t):void 0,group:t.closest("."+e.options.groupClass)},r[s]=a))}),r}},{key:"getProofersByField",value:function(e,t,r){var n=[];if(e.hasAttribute("required")&&!r&&n.push("required"),proofr.typeMap[t]&&n.push(proofr.typeMap[t]),e.hasAttribute("data-proof")){var o=e.getAttribute("data-proof").split(" ");n=n.concat(o)}return n}},{key:"getRangeByField",value:function(e){var t=e.getAttribute("data-proof-range"),r=/min\s\d+/,n=/max\s\d+/;return{min:r.test(t)?r.exec(t)[0].replace(/min\s/g,""):null,max:n.test(t)?n.exec(t)[0].replace(/max\s/g,""):null}}},{key:"addCustomError",value:function(e,t){if("undefined"===o(this.fields[e]))return proofr.error("adding custom error: There is no such field as "+e);var r=this.fields[e];return this.addErrorClass(r.group),this.addErrorMessages(r.group,[t]),!0}}]),e}();t.default=l},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(0),u=r(4),l=n(u),f=r(5),d=n(f),c=function(){function e(){o(this,e),this.proofers=a.DEFAULT_PROOFERS,this.typeMap=a.TYPE_MAP,this.lang=this.getBrowserOrDocLang(),this.dateFormats=["YYYY-MM-DD","DD.MM.YYYY","DD/MM/YYYY","DD-MM-YYYY"],this.messages={en:l.default,de:d.default}}return s(e,[{key:"proof",value:function(e,t,r,n){return"undefined"===i(this.proofers[e])?this.error("the given validator "+e+" doesn't exist"):this.proofers[e](t,r,n)}},{key:"addProofer",value:function(e,t){return"function"!=typeof t?this.error("A handler for a proofer has to be function"):(this.proofers[e]=t,this.proofers[e])}},{key:"extendOverwriteLang",value:function(e,t){return"undefined"===i(this.messages[e])?this.error("The lang "+e+" can't be extended, because it doesn't exist"):(this.messages[e]=Object.assign({},this.messages[e],t),this.messages)}},{key:"addLang",value:function(e,t){return"undefined"!==i(this.messages[e])?this.error("The lang "+e+" does already exist, please use proofr.extendOverwriteLang() to extend a language"):(this.messages[e]=t,this.messages)}},{key:"getBrowserOrDocLang",value:function(){return(""!==document.documentElement.lang?document.documentElement.lang:navigator.language||navigator.userLanguage).replace(/-[A-Z]+/g,"")}},{key:"getLangMessage",value:function(e){var t="undefined"!==i(this.messages[this.lang])?this.lang:"en";return"undefined"!==i(this.messages[t][e])?this.messages[t][e]:this.messages[t].default}},{key:"setDateFormat",value:function(e){switch(e){case"eu":this.dateFormats=["YYYY-MM-DD","DD.MM.YYYY","DD/MM/YYYY","DD-MM-YYYY"];break;case"uk":case"usa":this.dateFormats=["YYYY-MM-DD","MM.DD.YYYY","MM/DD/YYYY","MM-DD-YYYY"]}}},{key:"setLang",value:function(e){this.lang=e}},{key:"error",value:function(e){return console.error("Proof/r:",e),!1}}]),e}();t.default=c},function(t,r){t.exports=e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={required:"This field is required, please add a value",pattern:"This value seems to be invalid",email:"This is not a valid mail address",phone:"This is not a valid phone number",phoneCHLI:"This is not a valid swiss/liechtenstein phone number",number:"This value is not a number",date:"This is not a valid date",length:"The length of this value should be between %min and %max characters",minlength:"The length of this should be atleast %min characters",maxlength:"The length of this should be atmost %max characters",url:"This value is not a valid url",range:"This value should be between %min and %max",min:"This value should be greater than or equal to %min",max:"This value should be lower than or equal to %max",default:"This value seems to be invalid",checkrange:"Please select between %min and %max options",checkmin:"Please select atleast %min",checkmax:"Please select atmost %max"};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={required:"Dieses Feld ist ein Pflichtfeld",pattern:"Die Eingabe scheint ungültig zu sein",email:"Die Eingabe ist keine gültige Mail-Adresse",phone:"Die Eingabe ist keine gültige Telefonnummer",phoneCHLI:"Die Eingabe ist keine gültige schweizerische oder liechtensteinische Telefonnummer",number:"Die Eingabe ist keine gültige Nummer",date:"Die Eingabe ist kein gültiges Datum",length:"Die Eingabe sollte %min and %max Zeichen lang sein",minlength:"Die Eingabe sollte mindestens %min Zeichen lang sein",maxlength:"Die Eingabe sollte maximal %max Zeichen lang sein",url:"Die Eingabe ist keine gültige URL",range:"Der Wert sollte zwischen %min und %max sein",min:"Der Wert sollte mindestens %min sein",max:"Der Wert sollte maximal %max sein",default:"Die Eingabe scheint ungültig zu sein",checkrange:"Bitte wählen Sie %min bis %max Optionen aus",checkmin:"Bitte wählen Sie mindestens %min aus",checkmax:"Bitte wählen Sie maximal %max aus"};t.default=n}])});